function AjaxClient(){}function Igniter(e){this.selector=e,AjaxClient.call(this)}AjaxClient.prototype.async=!0,AjaxClient.prototype.timeout=3e3,AjaxClient.prototype.debug=!1,AjaxClient.prototype.get=function(e,t){var n=this,o=new XMLHttpRequest;o.timeout=this.timeout,o.open("get",e,this.async),o.onload=function(){o.readyState===o.DONE&&200===o.status&&(n.debug&&console.log(o.responseText),t(o.responseText))},o.send()},AjaxClient.prototype.getJSON=function(e,t){var n=this,o=new XMLHttpRequest;o.timeout=this.timeout,o.open("get",e,this.async),o.onload=function(){o.readyState===o.DONE&&200===o.status&&(n.debug&&console.log(o.responseText),t(JSON.parse(o.responseText)))},o.send()},AjaxClient.prototype.post=function(e,t,n){var o=this,r=new XMLHttpRequest;r.timeout=this.timeout,r.open("post",e,this.async),r.onload=function(){r.readyState===r.DONE&&200===r.status&&(o.debug&&console.log(r.responseText),n(JSON.parse(r.responseText)))},r.send(t)},AjaxClient.prototype.setDebug=function(e){AjaxClient.prototype.debug=e},Igniter.prototype=Object.create(AjaxClient.prototype),Igniter.prototype.constructor=Igniter,Igniter.prototype.hide=function(){var e=this.selector;if(e.match(/^#/))document.querySelector(e).style.display="none";else for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)t[n].style.display="none"},Igniter.prototype.show=function(){var e=this.selector;if(e.match(/^#/))document.querySelector(e).style.display="inline";else for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)t[n].style.display="inline"},Igniter.prototype.toggle=function(){var e=this.selector;if(e.match(/^#/)){var t=document.querySelector(e);"none"==t.style.display?t.style.display="inline":t.style.display="none"}else for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)"none"==n[o].style.display?n[o].style.display="inline":n[o].style.display="none"},Igniter.prototype.css=function(e,t){var n=this.selector;if(n.match(/^#/))document.querySelector(n).style.setProperty(e,t);else for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)o[r].style.setProperty(e,t)},Igniter.prototype.attr=function(e,t){var n=this.selector;if(n.match(/^#/))document.querySelector(n).setAttribute(e,t);else for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)o[r].setAttribute(e,t)},Igniter.prototype.html=function(e){var t=this.selector;if(t.match(/^#/))document.querySelector(t).innerHTML=e;else for(var n=document.querySelectorAll(t),o=0;o<n.length;o++)n[o].innerHTML=e},Igniter.prototype.append=function(e){var t=this.selector;if(t.match(/^#/))document.querySelector(t).innerHTML+=e;else for(var n=document.querySelectorAll(t),o=0;o<n.length;o++)n[o].innerHTML+=e},Igniter.prototype.click=function(e){var t=this.selector;if(t.match(/^#/))document.querySelector(t).addEventListener("click",e);else for(var n=document.querySelectorAll(t),o=0;o<n.length;o++)n[o].addEventListener("click",e)},Igniter.prototype.listen=function(e,t){var n=this.selector;if(n.match(/^#/))document.querySelector(n).addEventListener(e,t);else for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)o[r].addEventListener(e,t)},Igniter.prototype.renderTemplate=function(e,t){var n=document.getElementById(e).innerHTML;for(var o in t){var r=new RegExp("{{"+o+"}}","g");n=n.replace(r,t[o])}return n},Igniter.prototype.dataBind=function(e){var t=this.selector;(t=t?document.querySelector(t):document)||(t=document);for(var n in e)if("checkbox"===t.querySelector("#"+n).type){var o=t.querySelector("#"+n);o.value==e[n]&&(o.checked=!0)}else t.querySelector("#"+n).value=e[n]},Igniter.prototype.openWindow=function(e,t,n){var o=window.open(e,"newWin","resizable=yes ,scrollbars=no,status=0,width="+t+",height="+n);o.focus(),o.opener||(o.opener="main")},Igniter.prototype.serialize=function(e){return"?"+Object.keys(e).reduce(function(t,n){return t.push(n+"="+encodeURIComponent(e[n])),t},[]).join("&")},Igniter.prototype.clearForm=function(){var e=this.selector,t=document.querySelector(e);for(i=0;i<t.elements.length;i++)switch(field_type=t.elements[i].type.toLowerCase(),field_type){case"hidden":break;case"text":case"password":case"textarea":t.elements[i].value="";break;case"radio":case"checkbox":t.elements[i].checked&&(t.elements[i].checked=!1);break;case"select-one":case"select-multi":t.elements[i].selectedIndex=-1}},Igniter.prototype.ajaxSubmit=function(e){var t,n=this.selector;if(void 0!==(t="string"==typeof n?document.querySelector(n):n).action){var o=new XMLHttpRequest;if(o.onload=function(){e(o.responseText)},"post"===t.method.toLowerCase())o.open("post",t.action),o.send(new FormData(t));else{for(var r,i,s,l="",c=0;c<t.elements.length;c++)if((r=t.elements[c]).hasAttribute("name"))if("FILE"===(i="INPUT"===r.nodeName.toUpperCase()?r.getAttribute("type").toUpperCase():"TEXT"))for(s=0;s<r.files.length;l+="&"+escape(r.name)+"="+escape(r.files[s++].name));else("RADIO"!==i&&"CHECKBOX"!==i||r.checked)&&(l+="&"+escape(r.name)+"="+escape(r.value));o.open("get",t.action.replace(/(?:\?.*)?$/,l.replace(/^&/,"?")),!0),o.send(null)}return!1}};var $i=function(e){return new Igniter(e)};$i.get=function(e,t){return $i().get(e,t)},$i.getJSON=function(e,t){return $i().getJSON(e,t)},$i.post=function(e,t,n){return $i().post(e,t,n)},$i.openWindow=function(e,t,n){return $i().openWindow(e,t,n)},$i.serialize=function(e){return $i().serialize(e)},$i.setDebug=function(e){return $i().setDebug(e)};
